name: C-Install-Advanced-Tools
on:
  workflow_dispatch:

jobs:
  setup:
    runs-on: windows-latest
    timeout-minutes: 250

    steps:
      - name: Create Tools Directory
        run: |
          mkdir C:\Tools

      - name: Install Chocolatey Packages (GPU + dev)
        shell: powershell
        run: |
          Set-ExecutionPolicy Bypass -Scope Process -Force
          iex ((New-Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))
          choco install git python vscode 7zip curl wget -y
          choco upgrade python -y

      - name: Install Python Libraries
        run: |
          python -m pip install --upgrade pip
          pip install ecdsa sympy gmpy2 fastecdsa bit bech32 numpy

      - name: Clone Important Repositories
        run: |
          cd C:\Tools
          git clone https://github.com/JeanLucPons/Kangaroo
          git clone https://github.com/alexandernst/keyhunt
          git clone https://github.com/brichard19/brainflayer
          git clone https://github.com/phrutis/brainflayer-windows
          git clone https://github.com/brichard19/bitcrack
          git clone https://github.com/gurnec/btcrecover

      - name: Download Hashcat
        run: |
          cd C:\Tools
          curl -L -o hashcat.7z https://hashcat.net/files/hashcat-6.2.6.7z
          7z x hashcat.7z -oC:\Tools\hashcat

      - name: GPU Test
        continue-on-error: true
        run: |
          & C:\Tools\hashcat\hashcat.exe -I

      - name: Create Easy Commands
        run: |
          echo 'Kangaroo -> C:\Tools\Kangaroo' >> C:\Tools\README.txt
          echo 'BitCrack -> C:\Tools\bitcrack' >> C:\Tools\README.txt
          echo 'Brainflayer -> C:\Tools\brainflayer-windows' >> C:\Tools\README.txt

      - name: Done
        run: Write-Host "ðŸ”¥ C-Phase Complete â€” Advanced Tools Installed!"
